# Exercise 1.15

The sine of an angle (specified in radians) can be computed by:

- making use of the approximation `sinx ≈ x` if `x` is sufficiently small, and
- the trigonometric identity `sin x = 3 sin(x/3) − 4 sin^3(x/3)` to reduce the size of the argument of sin.

**Note**: For purposes of this exercise an angle is considered *sufficiently small* if its magnitude is not greater than `0.1` radians.

These ideas are incorporated in the following procedures:

```scheme
(define (cube x) (* x x x))
(define (p x) (- (* 3 x) (* 4 (cube x))))
(define (sine angle)
  (if (not (> (abs angle) 0.1))
      angle
      (p (sine (/ angle 3.0)))))
```

a. How many times is the procedure `p` applied when `(sine 12.15)` is evaluated?
b. What is the order of growth in space and number of steps (as a function of `a`) used by the process generated by the sine procedure when `(sine a)` is evaluated?

# Solution

```
(sine 12.15)
(p (sine 4.05))
(p (p (sine 1.35)))
(p (p (p (sine 0.45))))
(p (p (p (p (sine 0.15)))))
(p (p (p (p (p (sine 0.05))))))
(p (p (p (p (p (0.05))))))
```

a. The procedure `p` is applied 5 times when `(sine 12.15)` is evaluated.

Each time we apply `p`, we divide the angle `a` by 3. So, we want to know how many times we can divide `a` by 3 before it becomes smaller than or equal to 0.1 radians. Logarithms help us understand how many times we need to multiply a number by itself to get another number. To make sure we have a whole number of divisions, we use the ceiling function. This function rounds up to the next nearest whole number.

```
a/3^n < 0.1
a/0.1 < 3^n
log(a/0.1) < log(3^n)
log(a/0.1)/log(3) < n
n = ceiling(log(a/0.1)/log(3))
```

b. The order of growth of steps is:

```
R(a) = Θ(log(a))
```

This procedure leads to a chain of deferred operations that the interpreter has to hold in its memory. And the length of this chain is also equal to `ceiling(log(a/0.1)/log(3))`.

So, the order of growth of space is:

```
R(a) = Θ(log(a))
```